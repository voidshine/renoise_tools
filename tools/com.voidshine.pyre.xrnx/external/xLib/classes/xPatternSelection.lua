cLib.require(_xlibroot.."xPatternSequencer")class'xPatternSelection'function xPatternSelection.get_pattern_track(a,b)TRACE("xPatternSelection.get_pattern_track(seq_idx,trk_idx)",a,b)local c,d=xPatternSequencer.get_pattern_at_index(a)local e=rns.tracks[b]if not c or not e then return false,"Could not locate track or pattern"end;return{start_line=1,start_track=b,start_column=1,end_line=c.number_of_lines,end_track=b,end_column=e.visible_note_columns+e.visible_effect_columns}end;function xPatternSelection.get_pattern_column(a,b,f)TRACE("xPatternSelection.get_pattern_column(seq_idx,trk_idx,col_idx)",a,b,f)local g=xPatternSelection.get_pattern_track(a,b)g.start_column=f;g.end_column=f;return g end;function xPatternSelection.get_pattern_if_single_track()TRACE("xPatternSelection.get_pattern_if_single_track()")local g=rns.selection_in_pattern;if not g then return false,"No selection is defined in the pattern"end;if g.start_track~=g.end_track then return false,"The selection needs to fit within a single track"end;return g end;function xPatternSelection.get_column_in_track(a,b,f)TRACE("xPatternSelection.get_column_in_track(seq_idx,trk_idx,col_idx)",a,b,f)local g=xPatternSelection.get_pattern_track(a,b)if not g then return false,"Could not create selection for the pattern-track"end;g.start_column=f;g.end_column=f;return g end;function xPatternSelection.get_group_in_pattern(a,b)TRACE("xPatternSelection.get_group_in_pattern(seq_idx,trk_idx)",a,b)end;function xPatternSelection.is_single_column(h)TRACE("xPatternSelection.is_single_column(patt_sel)",h)return xPatternSelection.is_single_track(h)and h.start_column==h.end_column end;function xPatternSelection.is_single_track(h)TRACE("xPatternSelection.is_single_track(patt_sel)",h)return h.start_track==h.end_track end;function xPatternSelection.includes_note_columns(h)local e=rns.tracks[h.start_track]return h.start_column<=e.visible_note_columns end;function xPatternSelection.spans_entire_line(h,i)TRACE("xPatternSelection.spans_entire_line(patt_sel,number_of_columns)",h,i)end;function xPatternSelection.within_bounds(h,j)if j.line<h.start_line or j.line>h.end_line or j.track<h.start_track or j.track>h.end_track or j.column<h.start_column or j.column>h.end_column then return false end;return true end