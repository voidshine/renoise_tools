class'cConvert'function cConvert.note_to_hz(a,b)TRACE('cConvert.note_to_hz(note,hz_ini)',a,b)b=b or 440;return math.pow(2,(a-57)/12)*b end;function cConvert.hz_to_note(c,b)TRACE('cConvert.hz_to_note(freq,hz_ini)',c,b)b=b or 440;local d=(math.log(c)-math.log(b))/math.log(2)+4;local e=math.floor(d)local f=1200*(d-e)local g=math.floor(f/100)%12;f=f-g*100;if f>50 then f=f-100;g=g+1 end;return g+9+e*12,f end;function cConvert.note_to_frames(a,h,b)TRACE("cConvert.note_to_frames(note,sample_rate,hz_ini)",a,h,b)b=b or 440;local i=(1/2)^((a-57)/12)*h/b;return math.floor(i),i end;function cConvert.frames_to_note(j,h,b)TRACE("cConvert.frames_to_note(frames,sample_rate,hz_ini)",j,h,b)local k=cConvert.frames_to_hz(j,h,b)return cConvert.hz_to_note(k,b)end;function cConvert.frames_to_hz(j,h,l)TRACE("cConvert.frames_to_hz(frames,sample_rate,transpose)",j,h,l)local m=h/j;if l then local n=cConvert.note_to_hz(48)local o=cConvert.note_to_hz(l)return o/n*m else return m end end;function cConvert.hz_to_frames(k,h,l)TRACE("cConvert.hz_to_frames(hz,sample_rate,transpose)",k,h,l)local j=h/k;if l then local n=cConvert.note_to_hz(48)local o=cConvert.note_to_hz(l)j=j*o/n end;return cLib.round_value(j),j end